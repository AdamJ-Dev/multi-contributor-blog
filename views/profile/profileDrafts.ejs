<html lang="en">
    <%- include("../partials/head.ejs") %>
    <body>
        <div class="container-fluid">
            <%- include("../partials/nav.ejs")%>
            <div class="d-sm-none border">
                <%- include("../partials/profileNav.ejs") %>
            </div>
            <div class="row mt-3">
                <div class="profile-nav-container border-end d-none d-sm-block col-sm-2">
                    <%- include("../partials/profileNav.ejs") %>
                </div>
                <div class="col-sm-10">
                    <div class="author-welcome container mt-3">
                        <h2 class="mt-4 mb-4">Your Drafts:</h2>
                    </div>
                    <div class="drafts-wrapper container my-5 d-flex justify-content-center">  
                        <% if (Array.from(myDrafts).length !== 0) { %>
                        <div class="row col-10">
                            <div class="drafts-list">
                                    <% Array.from(myDrafts).forEach((draft, index, drafts) => { %>
                                            <div class="draft-wrapper row border-last-false d-flex">
                                                <div class="col-9 col-sm-11 justify-self-start py-3">
                                                    <a href="<%= "/createblog/" + draft._id %>" class="draft">
                                                        <div class="draft-name my-2">
                                                            <h4><%= draft.draftName %></p>
                                                        </div>
                                                    </a>
                                                    <p class="draft-date text-secondary"><%= "Last updated: " + draft.lastUpdated %></p>
                                                </div>
                                                <div class="col-3 col-sm-1 pb-1 d-flex align-self-end justify-self-end justify-content-end">
                                                    <i id="<%= "/drafts/" + draft._id %>" class="delete-draft bi bi-trash-fill" data-bs-toggle="modal" data-bs-target="#confirm-delete"></i>
                                                </div>  
                                            </div>
                                    <% }); %>
                            </div>
                        </div>
                        <% } else { %>
                            <div class="container-fluid">
                                <p><em>You have no drafts.</em></p>
                            </div>
                        <% } %>
                    </div>
                </div>
            </div>
        </div>
    <%- include("../partials/deleteModal.ejs") %>
    <%- include("../partials/footerScripts.ejs") %>
    <script src="/javascript/handleDelete.js"></script>
    <script src="/javascript/handleCopy.js"></script>
    </body>
</html>
